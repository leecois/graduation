import * as config from '../config'
import { generateRoot } from './generate-root'
import { generateScale } from './generate-scale'
import { generateTailwind } from './generate-tailwind'

const tailwind = generateTailwind(config)
const root = generateRoot(config)
const scale = generateScale()

const banner = `/*
 * THIS FILE IS GENERATED BY setup-styles.ts
 * DO NOT EDIT IT DIRECTLY.
 */`

const tailwindcss = [banner, tailwind, scale]
const rootcss = [banner, root]

const cssDir = new URL('../css', import.meta.url).pathname

await Bun.write(`${cssDir}/tailwind.css`, tailwindcss.join('\n\n'))
await Bun.write(`${cssDir}/root.css`, rootcss.join('\n\n'))

console.log(
  Bun.color('green', 'ansi'),
  'âœ“',
  Bun.color('black', 'ansi'),
  'Style config generated successfully'
)
